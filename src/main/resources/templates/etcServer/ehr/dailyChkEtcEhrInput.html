<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <title>일일점검일지(EHR) 입력</title>
</head>

<script>

    const xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function () {
      if(this.readyState == 4 && this.status == 200){

        getXmlData(this);
      }
    }
    xhr.open("GET" ,"donga-devwas.xml",true);
    xhr.send();

  function getXmlData(xml) {
    var num, name;
    var num, name;
    var txt, ntxt, xmlDoc;

    //this.reponseText와 비슷.
    xmlData = xml.responseXML;

    console.log(xmlData);

    const hostname = xmlData.getElementsByTagName("hostname");
    const hostnameValue =  hostname[0].childNodes[0].nodeValue;

    console.log("hostname: " + hostnameValue);


    const date = xmlData.getElementsByTagName("date");
    const dateValue = date[0].childNodes[0].nodeValue;

    console.log("date: " + dateValue);

    const time = xmlData.getElementsByTagName("time");
    const timeValue = time[0].childNodes[0].nodeValue

    console.log("time: " + timeValue);

    const osver = xmlData.getElementsByTagName("osver");
    const osverValue = osver[0].childNodes[0].nodeValue;

    console.log("osver: " + osverValue);

    const ipAddr = xmlData.getElementsByTagName("ipaddr");
    const ipAddrValue = ipAddr[0].childNodes[0].nodeValue;

    console.log("ipAddress: " + ipAddrValue);
    
    console.log(" ");
    let getXmlAttribute= xmlData.documentElement.childNodes[1].childNodes;
    console.log(getXmlAttribute);

    for(i=1; i<getXmlAttribute.length; i+=2){
      console.log(xmlData.documentElement.childNodes[1].childNodes[i].firstChild.nodeValue);
    }
};

</script>

<body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

<form class method="post">
<div class="container-fluid container-lg mt-lg-5">

  <div class="row text-center text-dark mb-5">
    <div class="col border mt-3">
      작성자:&nbsp;
      <select class="form-select-s" th:name="admin_nm">
        <option value="선택">선택</option>
        <option th:each="adminUser : ${adminUser}"
                th:value="${adminUser.admin_nm}"
                th:text="${adminUser.admin_nm}" >
        </option>
      </select>
    </div>
    <div class="col border mt-3" >
      작성시간:&nbsp;
      <span th:text="${#temporals.format(createdTime,'yyyy-MM-dd HH:mm:ss')}"></span>
    </div>
  </div>

  <div class="form-row float-end">
    <button type="submit" class="btn mb-3" style="background-color:#81BEF7; color: #fff;" >저장</button>
    <button type="button" class="btn mb-3" style="background-color:#81BEF7; color: #fff;" th:onclick="|location.href='@{/}'|" >뒤로가기</button>
  </div>

  <table class="table table-bordered align-middle table-hover mt-5">
      <thead>
        <tr align="center" style="background-color: #81BEF7;">
          <th scope="col">구분</th>
          <th scope="col">항목명</th>
          <th scope="col">운영체제</th>
          <th scope="col">체크항목</th>
          <th scope="col">이상유무</th>
          <th scope="col">비고</th>
        </tr>
      </thead>
      <tbody>
      <form name="etcHrService" th:action method="post">
        <tr align="center">
          <td style="background-color: #81BEF7;">서비스</td>
          <td>  
            <p></p>
            <p></p>
            <p>백업</p>
          </td>
          <td> 
            <p>-</p> 
            <p>-</p>
            <p> </p>
          </td>
          <td> 
            <p></p> 
            <p></p>
            <p>백업스케쥴</p>
          </td>
          <td> 
            <p><!--추후 수정 필요-->
              <input class="form-check-input" type="radio" value="Y" name="etcHrMailServiceChk" id="etcHrMailServiceChkY">
              유
              <input class="form-check-input" type="radio" value="N" name="etcHrMailServiceChk" id="etcHrMailServiceChkN" checked>
              무
            </p> 
            <p><!--추후 수정 필요-->
              <input class="form-check-input" type="radio" value="Y" name="etcHrApproveServiceChk" id="etcHrApproveServiceChkY">
              유
              <input class="form-check-input" type="radio" value="N" name="etcHrApproveServiceChk" id="etcHrApproveServiceChkN" checked>
              무  
            </p>
            <p>
              <input class="form-check-input" type="radio" value="Y" name="etcHrBackUpServiceChk" id="etcHrBackUpServiceChkY">
              유
              <input class="form-check-input" type="radio" value="N" name="etcHrBackUpServiceChk" id="etcHrBackUpServiceChkN" checked>
              무  
            </p>
          </td>
          <td>
            <input type="text" class="form-control" id="mailServiceBigoInput" placeholder="이상유무 유 체크시 내역기재">
            <input type="text" class="form-control" id="approveServiceBigoInput">
            <input type="text" class="form-control" id="backupServiceBigoInput">
          </td>
        </tr>
        <form name="etcHrServer" th:action="post">
        <tr align="center">
          <td rowspan="4" style="background-color: #81BEF7;">서버</td>
          <td>CHA-EHR-DB</td>
          <td>윈도우</td>
          <td>  
            <p>CPU 사용량</p>
            <p>메모리 사용량</p>
            <p>디스크 사용량</p>
            <p>이벤트 로그</p>
          </td>
          <td> 
            <p>
              <input class="form-check-input" type="radio" value="Y" name="chaEhrDbCpuUsageChk" id="chaEhrDbCpuUsageChkY">
              유
              <input class="form-check-input" type="radio" value="N" name="chaEhrDbCpuUsageChk" id="chaEhrDbCpuUsageChkN" checked>
              무
            </p> 
            <p>
              <input class="form-check-input" type="radio" value="Y" name="chaEhrDbMemUsageChk" id="chaEhrDbMemUsageChkY">
              유
              <input class="form-check-input" type="radio" value="N" name="chaEhrDbMemUsageChk" id="chaEhrDbMemUsageChkN" checked>
              무  
            </p>
            <p>
              <input class="form-check-input" type="radio" value="Y" name="chaEhrDbDiskUsageChk" id="chaEhrDbDiskUsageChkY">
              유
              <input class="form-check-input" type="radio" value="N" name="chaEhrDbDiskUsageChk" id="chaEhrDbDiskUsageChkN" checked>
              무  
            </p>
            <p>
              <input class="form-check-input" type="radio" value="Y" name="chaEhrDbEventChk" id="chaEhrDbEventChkY">
              유
              <input class="form-check-input" type="radio" value="N" name="chaEhrDbEventChk" id="chaEhrDbEventChkN" checked>
              무  
            </p>
          </td>
          <td>
            <input type="text" class="form-control" name="chaEhrDbCpuUsageBigo" id="chaEhrDbCpuUsageBigoInput" placeholder="이상유무 유 체크시 내역기재">
            <input type="text" class="form-control" name="chaEhrDbMemUsageBigo" id="chaEhrDbMemUsageBigoInput">
            <input type="text" class="form-control" name="chaEhrDbDiskUsageBigo" id="chaEhrDbDiskUsageBigoInput">
            <input type="text" class="form-control" name="chaEhrDbEventBigo" id="chaEhrDbEventBigoInput">
          </td>
        </tr>
        <tr align="center">
            <td>CHA-EHR-WEB</td>
            <td>윈도우</td>
            <td>  
              <p>CPU 사용량</p>
              <p>메모리 사용량</p>
              <p>디스크 사용량</p>
              <p>이벤트 로그</p>
            </td>
            <td> 
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrWebCpuUsageChk" id="chaEhrWebCpuUsageChkY">
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrWebCpuUsageChk" id="chaEhrWebCpuUsageChkN" checked>
                무
              </p> 
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrWebMemUsageChk" id="chaEhrWebMemUsageChkY">
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrWebMemUsageChk" id="chaEhrWebMemUsageChkN" checked>
                무  
              </p>
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrWebDiskUsageChk" id="chaEhrWebDiskUsageChkY">
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrWebDiskUsageChk" id="chaEhrWebDiskUsageChkN" checked>
                무  
              </p>
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrWebEventChk" id="chaEhrWebEventChkY">
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrWebEventChk" id="chaEhrWebEventChkN" checked>
                무  
              </p>
            </td>
            <td>
              <input type="text" class="form-control" name="chaEhrWebCpuUsageBigo" id="chaEhrWebCpuUsageBigoInput" placeholder="이상유무 유 체크시 내역기재">
              <input type="text" class="form-control" name="chaEhrWebMemUsageBigo" id="chaEhrWebMemUsageBigoInput">
              <input type="text" class="form-control" name="chaEhrWebDiskUsageBigo" id="chaEhrWebDiskUsageBigoInput">
              <input type="text" class="form-control" name="chaEhrWebEventBigo" id="chaEhrWebEventBigoInput">
            </td>
          </tr>
          <tr align="center">
            <td>CHA-EHR-DEV</td>
            <td>윈도우</td>
            <td>  
              <p>CPU 사용량</p>
              <p>메모리 사용량</p>
              <p>디스크 사용량</p>
              <p>이벤트 로그</p>
            </td>
            <td> 
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrDevCpuUsageChk" id="chaEhrDevCpuUsageChkY">
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrDevCpuUsageChk" id="chaEhrDevCpuUsageChkN" checked>
                무
              </p> 
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrDevMemUsageChk" id="chaEhrDevMemUsageChkY">
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrDevMemUsageChk" id="chaEhrDevMemUsageChkN" checked>
                무  
              </p>
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrDevDiskUsageChk" id="chaEhrDevDiskUsageChkY">
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrDevDiskUsageChk" id="chaEhrDevDiskUsageChkN" checked>
                무  
              </p>
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrDevEventChk" id="chaEhrDevEventChkY">
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrDevEventChk" id="chaEhrDevEventChkN" checked>
                무  
              </p>
            </td>
            <td>
              <input type="text" class="form-control" name="chaEhrDevCpuUsageBigo" id="chaEhrDevCpuUsageBigoInput" placeholder="이상유무 유 체크시 내역기재">
              <input type="text" class="form-control" name="chaEhrDevMemUsageBigo" id="chaEhrDevMemUsageBigoInput">
              <input type="text" class="form-control" name="chaEhrDevDiskUsageBigo" id="chaEhrDevDiskUsageBigoInput">
              <input type="text" class="form-control" name="chaEhrDevEventBigo" id="chaEhrDevEventBigoInput">
            </td>
          </tr>
          <tr align="center">
            <td>DDC-EHR-WEB</td>
            <td>윈도우</td>
            <td>  
              <p>CPU 사용량</p>
              <p>메모리 사용량</p>
              <p>디스크 사용량</p>
              <p>이벤트 로그</p>
            </td>
            <td> 
              <p>
                <input class="form-check-input" type="radio" value="Y" name="ddcEhrWebCpuUsageChk" id="ddcEhrWebCpuUsageChkY">
                유
                <input class="form-check-input" type="radio" value="N" name="ddcEhrWebCpuUsageChk" id="ddcEhrWebCpuUsageChkN" checked>
                무
              </p> 
              <p>
                <input class="form-check-input" type="radio" value="Y" name="ddcEhrWebMemUsageChk" id="ddcEhrWebMemUsageChkY">
                유
                <input class="form-check-input" type="radio" value="N" name="ddcEhrWebMemUsageChk" id="ddcEhrWebMemUsageChkN" checked>
                무  
              </p>
              <p>
                <input class="form-check-input" type="radio" value="Y" name="ddcEhrWebDiskUsageChk" id="ddcEhrWebDiskUsageChkY">
                유
                <input class="form-check-input" type="radio" value="N" name="ddcEhrWebDiskUsageChk" id="ddcEhrWebDiskUsageChkN" checked>
                무  
              </p>
              <p>
                <input class="form-check-input" type="radio" value="Y" name="ddcEhrWebEventChk" id="ddcEhrWebEventChkY">
                유
                <input class="form-check-input" type="radio" value="N" name="ddcEhrWebEventChk" id="ddcEhrWebEventChkN" checked>
                무  
              </p>
            </td>
            <td>
              <input type="text" class="form-control" name="ddcEhrWebCpuUsageBigo" id="ddcEhrWebCpuUsageBigoInput" placeholder="이상유무 유 체크시 내역기재">
              <input type="text" class="form-control" name="ddcEhrWebMemUsageBigo" id="ddcEhrWebMemUsageBigoInput">
              <input type="text" class="form-control" name="ddcEhrWebDiskUsageBigo" id="ddcEhrWEbDiskUsageBigoInput">
              <input type="text" class="form-control" name="ddcEhrWebEventBigo" id="ddcEhrWebEventBigoInput">
            </td>
          </tr>
        </form>
      </form>
    </tbody>
    </table>
</div>
</form>
</body>
</html>
