<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <title>일일점검일지(EHR) 수정</title>
</head>

<script>

    const xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function () {
      if(this.readyState == 4 && this.status == 200){

        getXmlData(this);
      }
    }
    xhr.open("GET" ,"donga-devwas.xml",true);
    xhr.send();

  function getXmlData(xml) {
    var num, name;
    var num, name;
    var txt, ntxt, xmlDoc;

    //this.reponseText와 비슷.
    xmlData = xml.responseXML;

    console.log(xmlData);

    const hostname = xmlData.getElementsByTagName("hostname");
    const hostnameValue =  hostname[0].childNodes[0].nodeValue;

    console.log("hostname: " + hostnameValue);


    const date = xmlData.getElementsByTagName("date");
    const dateValue = date[0].childNodes[0].nodeValue;

    console.log("date: " + dateValue);

    const time = xmlData.getElementsByTagName("time");
    const timeValue = time[0].childNodes[0].nodeValue

    console.log("time: " + timeValue);

    const osver = xmlData.getElementsByTagName("osver");
    const osverValue = osver[0].childNodes[0].nodeValue;

    console.log("osver: " + osverValue);

    const ipAddr = xmlData.getElementsByTagName("ipaddr");
    const ipAddrValue = ipAddr[0].childNodes[0].nodeValue;

    console.log("ipAddress: " + ipAddrValue);
    
    console.log(" ");
    let getXmlAttribute= xmlData.documentElement.childNodes[1].childNodes;
    console.log(getXmlAttribute);

    for(i=1; i<getXmlAttribute.length; i+=2){
      console.log(xmlData.documentElement.childNodes[1].childNodes[i].firstChild.nodeValue);
    }
};

</script>

<body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

<form class method="post">
<div class="container-fluid container-lg mt-lg-5">

  <div class="form-row float-end">
    <button type="submit" class="btn mb-3" style="background-color:#81BEF7; color: #fff;" >수정 완료</button>
    <button type="button" class="btn mb-3" style="background-color:#81BEF7; color: #fff;" th:onclick="|location.href='@{/}'|">뒤로가기</button>
  </div>

  <table class="table table-bordered align-middle table-hover mt-5">
      <thead>
        <tr align="center" style="background-color: #81BEF7;">
          <th scope="col">구분</th>
          <th scope="col">항목명</th>
          <th scope="col">운영체제</th>
          <th scope="col">체크항목</th>
          <th scope="col">이상유무</th>
          <th scope="col">비고</th>
        </tr>
      </thead>
      <tbody>
        <tr align="center" th:each="etcHrService:${etcHrService}">
          <td style="background-color: #81BEF7;">서비스</td>
          <td>  
            <p></p>
            <p></p>
            <p>백업</p>
          </td>
          <td> 
            <p>-</p> 
            <p>-</p>
            <p> </p>
          </td>
          <td> 
            <p></p> 
            <p></p>
            <p>백업스케쥴</p>
          </td>
          <td> 
            <p><!--추후 수정 필요 현재는 백업 서비스만 체크 진행-->
              <input class="form-check-input" type="radio" value="Y" name="etcHrMailServiceChk" id="etcHrMailServiceChkY"
                      th:checked="${etcHrService.etcHrMailServiceChk eq 'Y'}" disabled>
              유
              <input class="form-check-input" type="radio" value="N" name="etcHrMailServiceChk" id="etcHrMailServiceChkN"
                     th:checked="${etcHrService.etcHrMailServiceChk eq 'N'}" disabled>
              무
            </p> 
            <p><<!--추후 수정 필요 현재는 백업 서비스만 체크 진행-->
              <input class="form-check-input" type="radio" value="Y" name="etcHrApproveServiceChk" id="etcHrApproveServiceChkY"
                     th:checked="${etcHrService.etcHrApproveServiceChk eq 'Y'}" disabled>
              유
              <input class="form-check-input" type="radio" value="N" name="etcHrApproveServiceChk" id="etcHrApproveServiceChkN"
                     th:checked="${etcHrService.etcHrApproveServiceChk eq 'N'}" disabled>
              무  
            </p>
            <p>
              <input class="form-check-input" type="radio" value="Y" name="etcHrBackUpServiceChk" id="etcHrBackUpServiceChkY"
                      th:checked="${etcHrService.etcHrBackUpServiceChk eq 'Y'}" disabled>
              유
              <input class="form-check-input" type="radio" value="N" name="etcHrBackUpServiceChk" id="etcHrBackUpServiceChkN"
                     th:checked="${etcHrService.etcHrBackUpServiceChk eq 'N'}" disabled>
              무  
            </p>
          </td>
          <td>
            <input type="text" class="form-control" name="etcHrMailServiceBigo" id="etcHrMailServiceBigoInput"
                   th:value="${etcHrService.etcHrMailServiceBigo}" placeholder="이상유무 유 체크시 내역기재" readonly>
            <input type="text" class="form-control" name="etcHrApproveServiceBigo" id="etcHrApproveServiceBigo"
                   th:value="${etcHrService.etcHrApproveServiceBigo}" readonly>
            <input type="text" class="form-control" name="etcHrBackUpServiceBigo" id="etcHrBackUpServiceBigoInput"
                   th:value="${etcHrService.etcHrBackUpServiceBigo}" readonly>>
          </td>
        </tr>
        <tr align="center" th:each="etcHrServer: ${etcHrServer">
          <td rowspan="4"  style="background-color: #81BEF7;">서버</td>
          <td>CHA-EHR-DB</td>
          <td>윈도우</td>
          <td>  
            <p>CPU 사용량</p>
            <p>메모리 사용량</p>
            <p>디스크 사용량</p>
            <p>이벤트 로그</p>
          </td>
          <td> 
            <p>
              <input class="form-check-input" type="radio" value="Y" name="chaEhrDbCpuUsageChk" id="chaEhrDbCpuUsageChkY"
                     th:checked="${etcHrServer.chaEhrDbCpuUsageChk eq 'Y'}" disabled>
              유
              <input class="form-check-input" type="radio" value="N" name="chaEhrDbCpuUsageChk" id="chaEhrDbCpuUsageChkN"
                     th:checked="${etcHrServer.chaEhrDbCpuUsageChk eq 'N'}" disabled>
              무
            </p> 
            <p>
              <input class="form-check-input" type="radio" value="Y" name="chaEhrDbMemUsageChk" id="chaEhrDbMemUsageChkY"
                     th:checked="${etcHrServer.chaEhrDbMemUsageChk eq 'Y'}" disabled>
              유
              <input class="form-check-input" type="radio" value="N" name="chaEhrDbMemUsageChk" id="chaEhrDbMemUsageChkN"
                     th:checked="${etcHrServer.chaEhrDbMemUsageChk eq 'N'}" disabled>
              무  
            </p>
            <p>
              <input class="form-check-input" type="radio" value="Y" name="chaEhrDbDiskUsageChk" id="chaEhrDbDiskUsageChkY"
                     th:checked="${etcHrServer.chaEhrDbDiskUsageChk eq 'Y'}" disabled>
              유
              <input class="form-check-input" type="radio" value="N" name="chaEhrDbDiskUsageChk" id="chaEhrDbDiskUsageChkN"
                     th:checked="${etcHrServer.chaEhrDbDiskUsageChk eq 'N'}" disabled>
              무  
            </p>
            <p>
              <input class="form-check-input" type="radio" value="Y" name="chaEhrDbEventChk" id="chaEhrDbEventChkY"
                     th:checked="${etcHrServer.chaEhrDbEventChk eq 'Y'}" disabled>
              유
              <input class="form-check-input" type="radio" value="N" name="chaEhrDbEventChk" id="chaEhrDbEventChkN"
                     th:checked="${etcHrServer.chaEhrDbEventChk eq 'N'}" disabled>
              무  
            </p>
          </td>
          <td>
            <input type="text" class="form-control" name="chaEhrDbCpuUsageBigo" id="chaEhrDbCpuUsageBigoInput"
                   th:value="${etcHrServer.chaEhrDbCpuUsageBigo}" placeholder="이상유무 유 체크시 내역기재" readonly>
            <input type="text" class="form-control" name="chaEhrDbMemUsageBigo" id="chaEhrDbMemUsageBigoInput"
                   th:value="${etcHrServer.chaEhrDbMemUsageBigo}" readonly>
            <input type="text" class="form-control" name="chaEhrDbDiskUsageBigo" id="chaEhrDbDiskUsageBigoInput"
                   th:value="${etcHrServer.chaEhrDbDiskUsageBigo}" readonly>
            <input type="text" class="form-control" name="chaEhrDbEventBigo" id="chaEhrDbEventBigoInput"
                   th:value="${etcHrServer.chaEhrDbEventBigo}" readonly>
          </td>
        </tr>
        <tr align="center" th:each="etcHrServer : ${etcHrServer}">
            <td>CHA-EHR-WEB</td>
            <td>윈도우</td>
            <td>  
              <p>CPU 사용량</p>
              <p>메모리 사용량</p>
              <p>디스크 사용량</p>
              <p>이벤트 로그</p>
            </td>
            <td> 
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrWebCpuUsageChk" id="chaEhrWebCpuUsageChkY"
                       th:checked="${etcHrServer.chaEhrWebCpuUsageChk eq 'Y'}" disabled>
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrWebCpuUsageChk" id="chaEhrWebCpuUsageChkN"
                       th:checked="${etcHrServer.chaEhrWebCpuUsageChk eq 'N'}" disabled>
                무
              </p> 
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrWebMemUsageChk" id="chaEhrWebMemUsageChkY"
                       th:checked="${etcHrServer.chaEhrWebMemUsageChk eq 'Y'}" disabled>
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrWebMemUsageChk" id="chaEhrWebMemUsageChkN"
                       th:checked="${etcHrServer.chaEhrWebMemUsageChk eq 'N'}" disabled>
                무  
              </p>
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrWebDiskUsageChk" id="chaEhrWebDiskUsageChkY"
                       th:checked="${etcHrServer.chaEhrWebDiskUsageChk eq 'Y'}" disabled>
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrWebDiskUsageChk" id="chaEhrWebDiskUsageChkN"
                       th:checked="${etcHrServer.chaEhrWebDiskUsageChk eq 'N'}" disabled>
                무  
              </p>
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrWebEventChk" id="chaEhrWebEventChkY"
                       th:checked="${etcHrServer.chaEhrWebEventChk eq 'Y'}" disabled>
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrWebEventChk" id="chaEhrWebEventChkN"
                       th:checked="${etcHrServer.chaEhrWebEventChk eq 'N'}" disabled>
                무  
              </p>
            </td>
            <td>
              <input type="text" class="form-control" name="chaEhrWebCpuUsageBigo" id="chaEhrWebCpuUsageBigoInput"
                     th:value="${etcHrServer.chaEhrWebCpuUsageBigo}" placeholder="이상유무 유 체크시 내역기재" readonly>
              <input type="text" class="form-control" name="chaEhrWebMemUsageBigo" id="chaEhrWebMemUsageBigoInput"
                     th:value="${etcHrServer.chaEhrWebMemUsageBigo}" readonly>
              <input type="text" class="form-control" name="chaEhrWebDiskUsageBigo" id="chaEhrWebDiskUsageBigoInput"
                     th:value="${etcHrServer.chaEhrWebDiskUsageBigo}" readonly>
              <input type="text" class="form-control" name="chaEhrWebEventBigo" id="chaEhrWebEventBigoInput"
                     th:value="${etcHrServer.chaEhrWebEventBigo}" readonly>
            </td>
          </tr>
          <tr align="center" th:each="etcHrServer:${etcHrServer}">
            <td>CHA-EHR-DEV</td>
            <td>윈도우</td>
            <td>  
              <p>CPU 사용량</p>
              <p>메모리 사용량</p>
              <p>디스크 사용량</p>
              <p>이벤트 로그</p>
            </td>
            <td> 
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrDevCpuUsageChk" id="chaEhrDevCpuUsageChkY"
                        th:checked="${etcHrServer.chaEhrDevCpuUsageChk eq 'Y'}" disabled>
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrDevCpuUsageChk" id="chaEhrDevCpuUsageChkN"
                       th:checked="${etcHrServer.chaEhrDevCpuUsageChk eq 'N'}" disabled>
                무
              </p> 
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrDevMemUsageChk" id="chaEhrDevMemUsageChkY"
                       th:checked="${etcHrServer.chaEhrDevMemUsageChk eq 'Y'}" disabled>
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrDevMemUsageChk" id="chaEhrDevMemUsageChkN"
                       th:checked="${etcHrServer.chaEhrDevMemUsageChk eq 'N'}" disabled>
                무  
              </p>
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrDevDiskUsageChk" id="chaEhrDevDiskUsageChkY"
                       th:checked="${etcHrServer.chaEhrDevDiskUsageChk eq 'Y'}" disabled>
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrDevDiskUsageChk" id="chaEhrDevDiskUsageChkN"
                       th:checked="${etcHrServer.chaEhrDevDiskUsageChk eq 'N'}" disabled>
                무  
              </p>
              <p>
                <input class="form-check-input" type="radio" value="Y" name="chaEhrDevEventChk" id="chaEhrDevEventChkY"
                       th:checked="${etcHrServer.chaEhrDevEventChk eq 'Y'}" disabled>
                유
                <input class="form-check-input" type="radio" value="N" name="chaEhrDevEventChk" id="chaEhrDevEventChkN"
                       th:checked="${etcHrServer.chaEhrDevEventChk eq 'N'}" disabled>
                무  
              </p>
            </td>
            <td>
              <input type="text" class="form-control" name="chaEhrDevCpuUsageBigo" id="chaEhrDevCpuUsageBigoInput"
                     th:value="${etcHrServer.chaEhrDevCpuUsageBigo}" placeholder="이상유무 유 체크시 내역기재" readonly>
              <input type="text" class="form-control" name="chaEhrDevMemUsageBigo" id="chaEhrDevMemUsageBigoInput"
                     th:value="${etcHrServer.chaEhrDevMemUsageBigo" readonly>
              <input type="text" class="form-control" name="chaEhrDevDiskUsageBigo" id="chaEhrDevDiskUsageBigoInput"
                     th:value="${etcHrServer.chaEhrDevDiskUsageBigo" readonly>
              <input type="text" class="form-control" name="chaEhrDevEventBigo" id="chaEhrDevEventBigoInput"
                     th:value="${etcHrServer.chaEhrDevEventBigo" readonly>
            </td>
          </tr>
          <tr align="center" th:each="etcHrServer:${etcHrServer}">
            <td>DDC-EHR-WEB</td>
            <td>윈도우</td>
            <td>  
              <p>CPU 사용량</p>
              <p>메모리 사용량</p>
              <p>디스크 사용량</p>
              <p>이벤트 로그</p>
            </td>
            <td> 
              <p>
                <input class="form-check-input" type="radio" value="Y" name="ddcEhrWebCpuUsageChk" id="ddcEhrWebCpuUsageChkY"
                       th:checked="${etcHrServer.ddcEhrWebCpuUsageChk eq 'Y'}" disabled>
                유
                <input class="form-check-input" type="radio" value="N" name="ddcEhrWebCpuUsageChk" id="ddcEhrWebCpuUsageChkN"
                       th:checked="${etcHrServer.ddcEhrWebCpuUsageChk eq 'N'}" disabled>
                무
              </p> 
              <p>
                <input class="form-check-input" type="radio" value="Y" name="ddcEhrWebMemUsageChk" id="ddcEhrWebMemUsageChkY"
                       th:checked="${etcHrServer.ddcEhrWebMemUsageChk eq 'Y'}" disabled>
                유
                <input class="form-check-input" type="radio" value="N" name="ddcEhrWebMemUsageChk" id="ddcEhrWebMemUsageChkN"
                       th:checked="${etcHrServer.ddcEhrWebMemUsageChk eq 'N'}" disabled>
                무  
              </p>
              <p>
                <input class="form-check-input" type="radio" value="Y" name="ddcEhrWebDiskUsageChk" id="ddcEhrWebDiskUsageChkY"
                       th:checked="${etcHrServer.ddcEhrWebDiskUsageChk eq 'Y'}" disabled>
                유
                <input class="form-check-input" type="radio" value="N" name="ddcEhrWebDiskUsageChk" id="ddcEhrWebDiskUsageChkN"
                       th:checked="${etcHrServer.ddcEhrWebDiskUsageChk eq 'N'}" disabled>
                무  
              </p>
              <p>
                <input class="form-check-input" type="radio" value="Y" name="ddcEhrWebEventChk" id="ddcEhrWebEventChkY"
                       th:checked="${etcHrServer.ddcEhrWebEventChk eq 'Y'}" disabled>
                유
                <input class="form-check-input" type="radio" value="N" name="ddcEhrWebEventChk" id="ddcEhrWebEventChkN"
                       th:checked="${etcHrServer.ddcEhrWebEventChk eq 'N'}" disabled>
                무  
              </p>
            </td>
            <td>
              <input type="text" class="form-control" name="ddcEhrWebCpuUsageBigo" id="ddcEhrWebCpuUsageBigoInput"
                     th:value="${etcHrServer.ddcEhrWebCpuUsageBigo}" placeholder="이상유무 유 체크시 내역기재" readonly>
              <input type="text" class="form-control" name="ddcEhrWebMemUsageBigo" id="ddcEhrWebMemUsageBigoInput"
                     th:value="${etcHrServer.ddcEhrWebMemUsageBigo}" readonly>
              <input type="text" class="form-control" name="ddcEhrWebDiskUsageBigo" id="ddcEhrWEbDiskUsageBigoInput"
                     th:value="${etcHrServer.ddcEhrWebDiskUsageBigo}" readonly>
              <input type="text" class="form-control" name="ddcEhrWebEventBigo" id="ddcEhrWebEventBigoInput"
                     th:value="${etcHrServer.ddcEhrWebEventBigo}" readonly>
            </td>
          </tr>
    </tbody>
    </table>
</div>
</form>
</body>
</html>
